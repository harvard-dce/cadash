{% extends "inventory/vendor.html" %}

{% block vendor_content %}
    <div class="row">
        <ul class="nav nav-tabs">
            <li><a href="{{ url_for('inventory.vendor_list') }}">
                list</a>
            </li>
            <li><a href="{{ url_for('inventory.vendor_create') }}">
                create</a>
            </li>
            <li class="active"><a href="#">
                 edit
            <span class="sr-only">(current)</span></a></li>
        </ul>
    </div>

    <div class="row">

    {% if mode == 'edit' %}
    <h3>edit vendor</h3>
    <form action="{{ url_for('inventory.vendor_edit', r_id=r_id) }}"
        method="POST" role="form">
    {% else %}
    <h3>create new vendor entry</h3>
    <form action="{{ url_for('inventory.vendor_create') }}"
        method="POST" role="form">
    {% endif %}
        {{ form.csrf_token }}
        <div class="form-group">
            <label for="name">name</label>
            <input type="text" class="form-control" name="name" id="name"
            placeholder="vendor name"
            {% if mode == 'edit' %}
            value="{{ form.name.data }}" readonly="readonly"
            {% endif %}
            />
        </div>
        <div class="form-group">
            <label for="model">model</label>
            <input type="text" class="form-control" name="model" id="model"
            placeholder="capture agent model"
            {% if mode == 'edit' %}
            value="{{ form.model.data }}" readonly="readonly"
            {% endif %}
            />
        </div>
        {% if mode == 'edit' %}
        <div class="form-group">
            <label for="touchscreen_timeout_secs">Touchscreen Timeout (secs)</label>
            <input type="text" class="form-control"
            name="touchscreen_timeout_secs" id="touchscreen_timeout_secs"
            placeholder="timeout in secs"
            value="{{ form.touchscreen_timeout_secs.data }}" />
        </div>
        <div class="form-group">
            <label for="touchscreen_allow_recording">Allow Recording via
                Touchstreen</label>
            <input type="checkbox" class="form-control"
            name="touchscreen_allow_recording" id="touchscreen_allow_recording"
            value="{{ form.touchscreen_allow_recording.data }}"
            {% if form.touchscreen_allow_recording.data == True %}
            checked="checked"
            {% endif %}
            />
        </div>
        <div class="form-group">
            <label for="maintenance_permanent_logs">Allow Permanent Logs
                Download</label>
            <input type="checkbox" class="form-control"
            name="maintenance_permanent_logs" id="maintenance_permanent_logs"
            value="{{ form.maintenance_permanent_logs.data }}"
            {% if form.maintenance_permanent_logs.data == True %}
            checked="checked"
            {% endif %}
            />
        </div>
        <div class="form-group">
            <label for="datetime_timezone">Timezone</label>
            {{ form.datetime_timezone(class='form-control') }}
        </div>
        <div class="form-group">
            <label for="datetime_ntpserver">NTP Server</label>
            <input type="text" class="form-control"
            name="datetime_ntpserver" id="datetime_ntpserver"
            placeholder="ntp server" value="{{ form.datetime_ntpserver.data }}" />
        </div>
        <div class="form-group">
            <label for="firmware_version">Epiphan Firmware Version</label>
            <input type="text" class="form-control"
            name="firmware_version" id="firmware_version"
            placeholder="firmware version" value="{{ form.firmware_version.data }}" />
        </div>
        <div class="form-group">
            <label for="source_deinterlacing">Set source for deinterlacing</label>
            <input type="checkbox" class="form-control"
            name="source_deinterlacing" id="source_deinterlacing"
            value="{{ form.source_deinterlacing.data }}"
            {% if form.source_deinterlacing.data == True %}
            checked="checked"
            {% endif %}
            />
        </div>
        {% endif %}
        <div class="form-group">
            <div class="submit-row">
                <input type="submit" class="btn btn-primary" value="save" />
                <a href="{{ url_for('inventory.vendor_list') }}"
                    class="btn btn-danger" role="button">cancel</a>
            </div>
        </div>
    </form>


    </div>

{% endblock %}
