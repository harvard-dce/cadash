{% extends "inventory/cluster.html" %}

{% block cluster_content %}
    <div class="row">
        <ul class="nav nav-tabs">
            <li><a href="{{ url_for('inventory.cluster_list') }}">
                list</a>
            </li>
            {% if mode == 'edit' %}
            <li><a href="{{ url_for('inventory.cluster_create') }}">
                create</a>
            </li>
            <li class="active"><a href="#">
                 edit
            <span class="sr-only">(current)</span></a></li>
            {% else %}
            <li class="active"><a href="#">
                 create
            <span class="sr-only">(current)</span></a></li>
            {% endif %}
        </ul>
    </div>

    <div class="row">

    {% if mode == 'edit' %}
    <h3>edit cluster</h3>
    <form action="{{ url_for('inventory.cluster_edit', r_id=r_id) }}"
        method="POST" role="form">
    {% else %}
    <h3>create new cluster entry</h3>
    <form action="{{ url_for('inventory.cluster_create') }}"
        method="POST" role="form">
    {% endif %}
        {{ form.csrf_token }}
        <div class="form-group">
            <label for="name">name</label>
            <input type="text" class="form-control" name="name" id="name"
            placeholder="cluster name"
            {% if mode == 'edit' %}
            value="{{ form.name.data }}" readonly="readonly"
            {% endif %}
            />
        </div>
        <div class="form-group">
            <label for="admin_host">admin host</label>
            <input type="text" class="form-control" name="admin_host"
            id="admin_host"
            placeholder="admin_host address"
            {% if mode == 'edit' %}
            value="{{ form.admin_host.data }}"
            {% endif %}
            />
        </div>
        <div class="form-group">
            <label for="env">environment</label>
            {{ form.env(class='form-control') }}
        </div>
    {% if mode == 'edit' %}
        <div class="form-group">
            <label for="username">stream user</label>
            <input type="text" class="form-control"
            name="username" id="username"
            placeholder="stream user"
            value="{{ form.username.data }}" />
        </div>
        <div class="form-group">
            <label for="password">stream password</label>
            <input type="password" class="form-control"
            name="password" id="password"
            placeholder="stream password"
            value="{{ form.password.data }}" />
        </div>
    {% endif %}
        <div class="form-group">
            <div class="submit-row">
                <input type="submit" class="btn btn-primary" value="save" />
                <a href="{{ url_for('inventory.cluster_list') }}"
                    class="btn btn-danger" role="button">cancel</a>
            </div>
        </div>
    </form>


    </div>

{% endblock %}
